<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <title>deep_props (deep_props) -  - erldocs.com (Erlang Documentation)</title>
    <link rel="search" type="application/opensearchdescription+xml"
          title="erldocs" href="/search.xml">
    <link type="text/css" rel="stylesheet" href="../erldocs.css" />
  </head>
  <body>

    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off"
             placeholder="press TAB to search" />
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>deep_props</h1>
<h2 class="modsummary">A set of utility routines used to operate on deep proplists.</h2>
<div class="description">
<p>A set of utility routines used to operate on deep proplists.</p>
 
  <p>This single module has been designed to hit three primary goals:
  <ll>
  <li>allow you to access deeply nested properties inside proplists;</li>
  <li>admit you to mutate proplists;</li>
  <li>allow you to access a group of properties with a single call.</li>
  </ll></p></div>
<div class="functions"><h4>Functions</h4><hr  />
<div class="function">
<h3 id="get/2">get(Path, Proplist) -&gt; Result</h3>

<ul class="type">
<li><code>Path = [Key] | Key</code></li><li><code>Key = term()</code></li><li><code>Proplist = proplist() (see module proplists)</code></li><li><code>Result = term() | undefined</code></li></ul>
<div class="description"><span id="get-2"> </span>
 </div></div>
<div class="function">
<h3 id="get/3">get(Path, Proplist, Default) -&gt; Result</h3>

<ul class="type">
<li><code>Path = [term()]</code></li><li><code>Proplist = proplist() (see module proplists)</code></li><li><code>Result = term() | Default</code></li><li><code>Default = term()</code></li></ul>
<div class="description"><span id="get-3"> </span>

<p>Retrieves value of a property located and possibly deeply nested inside the property list
  <code>Proplist</code> under path <code>Path</code>.</p>
 
  <p>Path may be a single <code>Key</code> thus denoting that the property located on the top level of a
  property list. As well as a list of keys it may be noting that the property is located inside a
  property list which is located inside another property list and so on until the top level <code>Proplist</code>  
is finally reached.</p>
 
  <p>When there is no property under the <code>Path</code> the <code>Default</code> shall be the result of a call or
  <code>undefined</code> if <code>Default</code> has been not specified.</p>
 
  <p>Finally for the sake of clarity the following code will run with no exceptions:
  </p><pre class="sh_erlang">  Proplist = [ {top, [ {level, [ {thing, 2}, {where, 3} ]}, {middle, 4} ]}, {last, 5} ],
  Result = 4,
  Result = deep_props:get([top, middle], Proplist).</pre>
</div></div>
<div class="function">
<h3 id="set/3">set(Path, Value, Proplist) -&gt; Result</h3>

<ul class="type">
<li><code>Path = [Key] | Key</code></li><li><code>Key = term()</code></li><li><code>Value = term()</code></li><li><code>Proplist = proplist() (see module proplists)</code></li><li><code>Result = proplist() (see module proplists)</code></li></ul>
<div class="description"><span id="set-3"> </span>

<p>Sets value of a property to the <code>Value</code> and returns new property list.</p>
 
  <p>Property located and possibly deeply nested inside the property list <code>Proplist</code> under path <code>Path</code>.</p>
 
  <p>Path may be a single key <code>Key</code> thus denoting that the property located on the top level of a
  property list. As well as a list of keys it may be noting that the property is located inside a
  property list which is located inside another property list and so on until the top level <code>Proplist</code>  
is finally reached.</p>
 
  <p>If there is already such property exists the one's value will be replaced with new <code>Value</code>.
  Otherwise the property will be appended to the deepest enclosing proplist addressed by the <code>Path</code>.</p>
 
  <p>And finally let us clarify with the following valid example:
  </p><pre class="sh_erlang">  Proplist = [ {top, [ {level, [ {thing, 2}, {where, 3} ]}, {middle, 4} ]}, {last, 5} ],
  Result = [ {top, [ {level, [ {thing, new}, {where, 3} ]}, {middle, 4} ]}, {last, 5} ],
  Result = deep_props:set([top, level, thing], new, Proplist).</pre>
</div></div>
<div class="function">
<h3 id="append/3">append(Path, Value, Proplist) -&gt; Result</h3>

<ul class="type">
<li><code>Path = [Key] | Key</code></li><li><code>Key = term()</code></li><li><code>Value = property() (see module proplists)</code></li><li><code>Proplist = proplist() (see module proplists)</code></li><li><code>Result = proplist() (see module proplists)</code></li></ul>
<div class="description"><span id="append-3"> </span>

<p>Appends the new entry <code>Value</code> to the list located under a property and returns new property list.</p>
 
  <p>Property located and possibly deeply nested inside the property list <code>Proplist</code> under path <code>Path</code>.</p>
 
  <p>Path may be a single key <code>Key</code> thus denoting that the property located on the top level of a
  property list. As well as a list of keys it may be noting that the property is located inside a
  property list which is located inside another property list and so on until the top level <code>Proplist</code>  
is finally reached.</p>
 
  <p>If there is no such property under <code>Path</code> the new one will be created and set to the <code>[Value]</code>.
  Otherwise the <code>Value</code> will be appended to the head of the list which is value of the property.  
Please be careful when appending value to anything but a list because malformed list will then  
be created</p>
 
  <p>And finally let us clarify everything with the following valid example:
  </p><pre class="sh_erlang">  Proplist = [ {top, [ {middle, [4]} ]}, {last, 5} ],
  Result = [ {top, [ {middle, [new, 4]}, {last, 5} ],
  Result = deep_props:append([top, middle], new, Proplist).</pre>
</div></div>
<div class="function">
<h3 id="extract/2">extract(Path, Proplist) -&gt; Result</h3>

<ul class="type">
<li><code>Path = [Key] | Key</code></li><li><code>Key = term()</code></li><li><code>Proplist = proplist() (see module lists)</code></li><li><code>Result = {Value, proplist() (see module lists)}</code></li><li><code>Value = term()</code></li></ul>
<div class="description"><span id="extract-2"> </span>
 </div></div>
<div class="function">
<h3 id="extract/3">extract(Path, Proplist, Default) -&gt; Result</h3>

<ul class="type">
<li><code>Path = [Key] | Key</code></li><li><code>Key = term()</code></li><li><code>Proplist = proplist() (see module proplists)</code></li><li><code>Result = {Value, proplist() (see module proplists)}</code></li><li><code>Value = term() | Default</code></li><li><code>Default = term()</code></li></ul>
<div class="description"><span id="extract-3"> </span>

<p>Extracts the property from the property list <code>Proplist</code> and return its value and new property  
list with the property removed.</p>
 
  <p>Property located and possibly deeply nested inside the property list <code>Proplist</code> under path <code>Path</code>.</p>
 
  <p>Path may be a single key <code>Key</code> thus denoting that the property located on the top level of a
  property list. As well as a list of keys it may be noting that the property is located inside a
  property list which is located inside another property list and so on until the top level <code>Proplist</code>  
is finally reached.</p>
 
  <p>If there is such property found then the result will be the tuple <code>{Value, Rest}</code> where <code>Value</code> is
  value of the propery and <code>Rest is property list formed after the original with found property removed
  from the deepest enclosing property list addressed by the `Path</code>.</p>
 
  <p>On the other hand if no such property actually the tuple <code>{Default, Proplist}</code> returned where
  <code>Proplist</code> is the original property list untoched and <code>Default</code> is equal to <code>undefined</code> when no
  <code>Default</code> value have been passed.</p>
 
  <p>And finally let us clarify everything with the following:
  </p><pre class="sh_erlang">  Proplist = [ {top, [ {level, [ {thing, 2}, {where, 3} ]} ]}, {last, 5} ],
  Result = 3,
  Rest = [ {top, [ {level, [ {thing, 2} ]} ]}, {last, 5} ],
  {Result, Rest} = deep_props:extract([top, level, where], Proplist).</pre>
</div></div>
<div class="function">
<h3 id="values/2">values(Paths, Proplist) -&gt; Results</h3>

<ul class="type">
<li><code>Proplist = proplist() (see module proplists)</code></li><li><code>Paths = [Path]</code></li><li><code>Path = PurePath | {PurePath, Default}</code></li><li><code>PurePath = [term()] | term()</code></li><li><code>Default = term()</code></li><li><code>Results = [Result]</code></li><li><code>Result = term() | Default | undefined</code></li></ul>
<div class="description"><span id="values-2"> </span>

<p>Retrieves values of one or more properties with a single invocation. These values form a list  
which strictly preserve order of properties accessed.</p>
 
  <p>This function performs much like group <code>get</code> call. In other words the result of this function will be
  equal to sequential application of <code>deep_props:get/3</code> in the way close to folding.</p>
 
  <p>Properties located and possibly deeply nested inside the property list <code>Proplist</code> addressed by one
  or more paths in <code>Paths</code>. A path then may be a single <code>PurePath</code> (explained further) which is semantically
  equal to <code>{PurePath, undefined}</code>. As well as a tuple <code>{PurePath, Default}</code> may be specified thus
  denoting that in the case of absence of the property the <code>Default</code> will be the value in the list of values.
  Therefore <code>undefined</code> will be that value when <code>Default</code> is not specified.</p>
 
  <p><code>PurePath</code> may be a single key <code>Key</code> thus denoting that the property located on the top level of a
  property list. As well as a list of keys it may be noting that the property is located inside a
  property list which is located inside another property list and so on until the top level <code>Proplist</code>  
is finally reached.</p>
 
  <p>Then following final clarification example:
  </p><pre class="sh_erlang">  Proplist = [ {top, [ {level, [ {thing, 2}, {where, 3} ]}, {middle, 4} ]}, {last, 5} ],
  Result = [ 2, def, 5 ],
  Result = deep_props:values([ [top, level, thing], {[top, down], def}, last ], Proplist).</pre>
 
  <p>In the latter example the value <code>def</code> was returned for path <code>[top, down]</code>. If the default value was not
  specified through <code>{[top, down], def}</code> then the <code>undefined</code> would be returned instead.
 </p>
<p><em>See also:</em> <a href="#get-3" class="seealso">get/3</a>.</p>
</div></div>
<div class="function">
<h3 id="split/2">split(Paths, Proplist) -&gt; Result</h3>

<ul class="type">
<li><code>Proplist = proplist() (see module proplists)</code></li><li><code>Paths = [Path]</code></li><li><code>Path = PurePath | {PurePath, Default}</code></li><li><code>PurePath = [term()] | term()</code></li><li><code>Default = term()</code></li><li><code>Result = {[Value], Rest}</code></li><li><code>Value = term()</code></li><li><code>Rest = proplist() (see module proplists)</code></li></ul>
<div class="description"><span id="split-2"> </span>

<p>Extracts values of one or more properties with a single invocation and returns them along with  
new property list with these properties removed. These values form a list which strictly preserve  
order of properties accessed.</p>
 
  <p>This function performs much like group <code>extract</code> call. In other words the result of this function will be
  equal to sequential application of <code>deep_props:extract/3</code> in the way close to folding.</p>
 
  <p>Properties located and possibly deeply nested inside the property list <code>Proplist</code> addressed by one
  or more paths in <code>Paths</code>. A path then may be a single <code>PurePath</code>as well as a tuple <code>{PurePath, Default}</code>
  thus denoting that in the case of absence of the property the <code>Default</code> will be the value in the list
  of values. Therefore <code>undefined</code> will be that value when <code>Default</code> is not specified.</p>
 
  <p>The function call will return tuple <code>{Values, Rest}</code> where <code>Values</code> is list of values being explained
  and the <code>Rest</code> is property list with properties addressed by <code>Paths</code> removed from the corresponding  
deepest enclosing property lists. Obviously the absent properties are not removed.</p>
 
  <p><code>PurePath</code> may be a single key <code>Key</code> thus denoting that the property located on the top level of a
  property list. As well as a list of keys it may be noting that the property is located inside a
  property list which is located inside another property list and so on until the top level <code>Proplist</code>  
is finally reached.</p>
 
  <p>Finally goes the clarification example:
  </p><pre class="sh_erlang">  Proplist = [ {top, [ {level, [ {thing, 2}, {where, 3} ]}, {middle, 4} ]}, {last, 5} ],
  Result = [ 2, def, 5 ],
  Rest = [ {top, [ {level, [ {where, 3} ]}, {middle, 4} ]} ],
  {Result, Rest} = deep_props:split([ [top, level, thing], {[top, down], def}, last ], Proplist).</pre><p>
 </p>
<p><em>See also:</em> <a href="#extract-3" class="seealso">extract/3</a>.</p>
</div></div>
<div class="function">
<h3 id="list/2">list(Paths, Proplist) -&gt; Result</h3>

<ul class="type">
<li><code>Proplist = proplist() (see module proplists)</code></li><li><code>Paths = [Path]</code></li><li><code>Path = [term()] | term()</code></li><li><code>Result = [Prop]</code></li><li><code>Prop = property() (see module proplists)</code></li></ul>
<div class="description"><span id="list-2"> </span>

<p>Returns plain sublist of the property list with properties under <code>Paths</code> being  
retrieved.</p>
 
  <p>Properties located and possibly deeply nested inside the property list <code>Proplist</code> addressed by one
  or more paths in <code>Paths</code>. A <code>Path</code> then may be a single key <code>Key</code> thus denoting that the property
  located on the top level of a property list. As well as a list of keys it may be noting that the
  property is located inside a property list which is located inside another property list and so on
  until the top level <code>Proplist</code> is finally reached.</p>
 
  <p>Worth noting that when property is not present under specific <code>Path</code> the resulting list misses this
  property totally. Thus length of the result may be less than the length of <code>Paths</code>. But the ordering  
is still preserved even in such cases.</p>
 
  <p>Finally for the sake of clarity it is guaranteed that the following code will run with no exceptions:
  </p><pre class="sh_erlang">  Proplist = [ {top, [ {level, [ {thing, 2}, {where, 3} ]}, {middle, 4} ]}, {last, 5} ],
  Result = [ {[top, level, thing], 2}, {last, 5} ],
  Result = list([ [top, level, thing], [top, down], last ], Proplist).</pre>
</div></div>
<div class="function">
<h3 id="defaults/2">defaults(Defaults, Proplist) -&gt; Result</h3>

<ul class="type">
<li><code>Proplist = proplist() (see module proplists)</code></li><li><code>Defaults = proplist() (see module proplists)</code></li><li><code>Result = proplist() (see module proplists)</code></li></ul>
<div class="description"><span id="defaults-2"> </span>

<p>Retrieves the property list formed by substitution any missing properties with
  default ones from <code>Defaults</code>.</p>
 
  <p>If <code>Defaults</code> contains a property which is present in <code>Proplist</code> too last one left untouched.
  Otherwise the <code>Proplist</code> is populated with property from <code>Defaults</code>. It may seem like merging of
  two proplists with respect to values in the <code>Proplist</code>.</p>
</div></div></div>

<authors>
<aname> </aname>
<email> </email></authors>
      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        <ul id="funs"><li><a href="#get/2">get/2</a></li><li><a href="#get/3">get/3</a></li><li><a href="#set/3">set/3</a></li><li><a href="#append/3">append/3</a></li><li><a href="#extract/2">extract/2</a></li><li><a href="#extract/3">extract/3</a></li><li><a href="#values/2">values/2</a></li><li><a href="#split/2">split/2</a></li><li><a href="#list/2">list/2</a></li><li><a href="#defaults/2">defaults/2</a></li></ul>
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-59760-14']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ?
          'https://ssl' : 'http://www') +
          '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
  </body>
</html>

